{% comment %}
  Homepage Template
{% endcomment %}

<script>
  // Add homepage class to main element
  document.querySelector('main').classList.add('homepage-main');
</script>

<div class="nuvoxel-homepage">
  <!-- Hero Section -->
  <section class="nuvoxel-hero">
    <div class="nuvoxel-hero-container">
      <h1 class="nuvoxel-hero-title">Shop</h1>
      <p class="nuvoxel-hero-subtitle">
        Enterprise Hardware Solutions for Your Cloud Journey
      </p>
      <p class="nuvoxel-hero-description">
        Browse our inventory of refurbished datacenter equipment, upgrade components, and enterprise hardware. Plus, check out exclusive Crying Cloud YouTube channel merchandise! From servers to networking gear, find quality equipment to support your hybrid cloud strategy or maximize value from decommissioned assets.
      </p>
      <div class="nuvoxel-hero-buttons">
        <a href="{{ routes.all_products_collection_url }}" class="nuvoxel-btn-primary">
          Browse Inventory
        </a>
        <a href="https://www.nuvoxel.com/contact-sales" class="nuvoxel-btn-secondary">
          Contact Sales
        </a>
      </div>
    </div>
  </section>

  <!-- Product Categories -->
  <section class="nuvoxel-categories">
    <div class="page-width">
      <h2 class="nuvoxel-section-title">Browse by Category</h2>
      <div class="nuvoxel-categories-grid">
        {% for collection in collections %}
          {% unless collection.handle == 'all' or collection.handle == 'frontpage' %}
            <a href="{{ collection.url }}" class="nuvoxel-category-card">
              <div class="nuvoxel-category-icon">
                {% if collection.image %}
                  <!-- Use collection image if available -->
                  <img src="{{ collection.image | image_url: width: 80 }}" 
                       alt="{{ collection.title }}" 
                       class="nuvoxel-collection-icon-img"
                       loading="lazy">
                {% else %}
                  <!-- Fallback to default icon if no image -->
                  <svg width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <line x1="16.5" y1="9.4" x2="7.5" y2="4.21"></line>
                    <path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"></path>
                    <polyline points="3.27 6.96 12 12.01 20.73 6.96"></polyline>
                    <line x1="12" y1="22.08" x2="12" y2="12"></line>
                  </svg>
                {% endif %}
              </div>
              <h3 class="nuvoxel-category-title">{{ collection.title }}</h3>
              <p class="nuvoxel-category-description">
                {% if collection.description != blank %}
                  {{ collection.description | strip_html | truncate: 100 }}
                {% elsif collection.products_count > 0 %}
                  {{ collection.products_count }} {% if collection.products_count == 1 %}product{% else %}products{% endif %} available
                {% else %}
                  Browse our {{ collection.title | downcase }}
                {% endif %}
              </p>
            </a>
          {% endunless %}
        {% endfor %}
      </div>
    </div>
  </section>

  <!-- Newsletter Signup -->
  <section class="nuvoxel-newsletter">
    <div class="page-width">
      <div class="nuvoxel-newsletter-container">
        <div class="nuvoxel-newsletter-content">
          <h2 class="nuvoxel-newsletter-title">
            <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="display: inline-block; vertical-align: middle; margin-right: 12px;">
              <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path>
              <polyline points="22,6 12,13 2,6"></polyline>
            </svg>
            Stay in the Loop!
          </h2>
          <p class="nuvoxel-newsletter-subtitle">
            Get exclusive deals on enterprise hardware, early access to Crying Cloud merch drops, and updates on new inventory arrivals.
          </p>
          
          {% form 'customer' %}
            {% if form.posted_successfully? %}
              <div class="nuvoxel-newsletter-success">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path>
                  <polyline points="22 4 12 14.01 9 11.01"></polyline>
                </svg>
                Thanks for subscribing! Check your email for a confirmation.
              </div>
            {% else %}
              <div class="nuvoxel-newsletter-form">
                <input type="hidden" name="contact[tags]" value="newsletter">
                <input type="email" 
                       name="contact[email]" 
                       class="nuvoxel-newsletter-input" 
                       placeholder="Enter your email address"
                       required>
                <button type="submit" class="nuvoxel-newsletter-button">
                  Subscribe
                  <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="margin-left: 8px;">
                    <line x1="5" y1="12" x2="19" y2="12"></line>
                    <polyline points="12 5 19 12 12 19"></polyline>
                  </svg>
                </button>
              </div>
              
              {% if form.errors %}
                <div class="nuvoxel-newsletter-error">
                  {{ form.errors | default_errors }}
                </div>
              {% endif %}
            {% endif %}
          {% endform %}
          
          <p class="nuvoxel-newsletter-privacy">
            We respect your privacy. Unsubscribe at any time.
          </p>
        </div>
        
        <div class="nuvoxel-newsletter-features">
          <div class="nuvoxel-newsletter-feature">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M12 2L2 7l10 5 10-5-10-5z"></path>
              <path d="M2 17l10 5 10-5"></path>
              <path d="M2 12l10 5 10-5"></path>
            </svg>
            <span>New Inventory Alerts</span>
          </div>
          <div class="nuvoxel-newsletter-feature">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <rect x="2" y="7" width="20" height="14" rx="2" ry="2"></rect>
              <path d="M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"></path>
            </svg>
            <span>Exclusive Deals</span>
          </div>
          <div class="nuvoxel-newsletter-feature">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path>
            </svg>
            <span>Crying Cloud Merch</span>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Call to Action -->
  <section class="nuvoxel-cta">
    <div class="page-width">
      <h2 class="nuvoxel-cta-title">Need Help Finding the Right Equipment?</h2>
      <p class="nuvoxel-cta-description">
        Our team can help you identify the best hardware solutions for your specific needs,
        whether you're building a hybrid cloud environment or looking to liquidate assets.
      </p>
      <div class="nuvoxel-cta-buttons">
        <a href="{{ routes.all_products_collection_url }}" class="nuvoxel-btn-primary">Browse All Products</a>
        <a href="https://www.nuvoxel.com/contact-sales" class="nuvoxel-btn-secondary">Contact Our Team</a>
      </div>
    </div>
  </section>
</div>

<style>
  .nuvoxel-homepage {
    padding: 0;
  }

  /* Hero Section */
  .nuvoxel-hero {
    background: linear-gradient(to bottom right, #064e3b, #134e4a, #166534);
    color: white;
    padding: 80px 16px;
    text-align: center;
  }

  .nuvoxel-hero-container {
    max-width: 1152px;
    margin: 0 auto;
  }

  .nuvoxel-hero-title {
    font-size: 48px;
    font-weight: 700;
    margin-bottom: 24px;
  }

  @media (min-width: 768px) {
    .nuvoxel-hero-title {
      font-size: 60px;
    }
  }

  .nuvoxel-hero-subtitle {
    font-size: 24px;
    color: #86efac;
    margin-bottom: 32px;
  }

  .nuvoxel-hero-description {
    font-size: 20px;
    color: #e5e7eb;
    margin: 0 auto 40px;
    max-width: 768px;
    line-height: 1.6;
  }

  .nuvoxel-hero-buttons {
    display: flex;
    flex-direction: column;
    gap: 16px;
    align-items: center;
  }

  @media (min-width: 640px) {
    .nuvoxel-hero-buttons {
      flex-direction: row;
      justify-content: center;
    }
  }

  .nuvoxel-btn-primary,
  .nuvoxel-btn-secondary {
    padding: 14px 32px;
    border-radius: 6px;
    font-size: 16px;
    font-weight: 600;
    text-decoration: none;
    transition: all 0.2s;
    display: inline-flex;
    align-items: center;
  }

  .nuvoxel-btn-primary {
    background: white;
    color: #047857;
  }

  .nuvoxel-btn-primary:hover {
    background: #f3f4f6;
  }

  .nuvoxel-btn-secondary {
    background: rgba(255, 255, 255, 0.1);
    color: white;
    border: 1px solid rgba(255, 255, 255, 0.5);
  }

  .nuvoxel-btn-secondary:hover {
    background: rgba(255, 255, 255, 0.2);
    border-color: white;
  }

  /* Categories Section */
  .nuvoxel-categories {
    padding: 80px 0;
    background: #f9fafb;
  }

  .nuvoxel-categories-container {
    max-width: 1280px;
    margin: 0 auto;
    padding: 0 16px;
  }

  .nuvoxel-section-title {
    font-size: 30px;
    font-weight: 700;
    text-align: center;
    margin-bottom: 48px;
    color: #163172;
  }

  .nuvoxel-categories-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 32px;
  }

  @media (min-width: 768px) {
    .nuvoxel-categories-grid {
      grid-template-columns: repeat(3, 1fr);
    }
  }

  .nuvoxel-category-card {
    background: white;
    border-radius: 8px;
    padding: 24px;
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1);
    text-align: center;
  }

  .nuvoxel-category-link {
    text-decoration: none;
    color: inherit;
    display: block;
  }

  .nuvoxel-category-icon {
    width: 60px;
    height: 60px;
    color: #059669;
    margin: 0 auto 16px;
    display: flex;
    align-items: center;
    justify-content: center;
  }
  
  .nuvoxel-collection-icon-img {
    width: 100%;
    height: 100%;
    object-fit: contain;
  }

  .nuvoxel-category-title {
    font-size: 20px;
    font-weight: 600;
    color: #111827;
    margin-bottom: 8px;
  }

  .nuvoxel-category-description {
    font-size: 16px;
    color: #6b7280;
    line-height: 1.5;
  }

  /* Newsletter Section */
  .nuvoxel-newsletter {
    background: linear-gradient(to bottom right, #064e3b, #134e4a, #166534);
    padding: 80px 16px;
  }

  .nuvoxel-newsletter-container {
    max-width: 1000px;
    margin: 0 auto;
    display: grid;
    grid-template-columns: 1fr;
    gap: 40px;
  }

  @media (min-width: 768px) {
    .nuvoxel-newsletter-container {
      grid-template-columns: 1.5fr 1fr;
      align-items: center;
    }
  }

  .nuvoxel-newsletter-content {
    color: white;
  }

  .nuvoxel-newsletter-title {
    font-size: 32px;
    font-weight: 700;
    margin-bottom: 16px;
    color: white;
  }

  .nuvoxel-newsletter-subtitle {
    font-size: 18px;
    color: #d1fae5;
    margin-bottom: 24px;
    line-height: 1.6;
  }

  .nuvoxel-newsletter-form {
    display: flex;
    gap: 12px;
    margin-bottom: 16px;
  }

  @media (max-width: 640px) {
    .nuvoxel-newsletter-form {
      flex-direction: column;
    }
  }

  .nuvoxel-newsletter-input {
    flex: 1;
    padding: 14px 20px;
    border: 2px solid rgba(255, 255, 255, 0.3);
    border-radius: 6px;
    background: rgba(255, 255, 255, 0.1);
    color: white;
    font-size: 16px;
    transition: all 0.2s;
  }

  .nuvoxel-newsletter-input::placeholder {
    color: rgba(255, 255, 255, 0.7);
  }

  .nuvoxel-newsletter-input:focus {
    outline: none;
    background: rgba(255, 255, 255, 0.2);
    border-color: white;
  }

  .nuvoxel-newsletter-button {
    padding: 14px 28px;
    background: white;
    color: #047857;
    border: none;
    border-radius: 6px;
    font-size: 16px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.2s;
    display: inline-flex;
    align-items: center;
  }

  .nuvoxel-newsletter-button:hover {
    background: #f3f4f6;
    transform: translateX(4px);
  }

  .nuvoxel-newsletter-success {
    background: white;
    color: #047857;
    padding: 16px;
    border-radius: 6px;
    display: flex;
    align-items: center;
    gap: 12px;
    font-weight: 600;
  }

  .nuvoxel-newsletter-error {
    background: rgba(239, 68, 68, 0.1);
    border: 1px solid rgba(239, 68, 68, 0.3);
    color: white;
    padding: 12px;
    border-radius: 6px;
    margin-top: 12px;
  }

  .nuvoxel-newsletter-privacy {
    font-size: 14px;
    color: rgba(255, 255, 255, 0.8);
    margin-top: 12px;
  }

  .nuvoxel-newsletter-features {
    display: flex;
    flex-direction: column;
    gap: 20px;
  }

  .nuvoxel-newsletter-feature {
    display: flex;
    align-items: center;
    gap: 12px;
    color: white;
    font-size: 16px;
  }

  .nuvoxel-newsletter-feature svg {
    width: 24px;
    height: 24px;
    color: #86efac;
  }

  /* CTA Section */
  .nuvoxel-cta {
    padding: 80px 16px;
    background: linear-gradient(135deg, #f3f4f6, #ffffff);
  }

  .nuvoxel-cta-title {
    font-size: 32px;
    font-weight: 700;
    text-align: center;
    margin-bottom: 16px;
    color: #163172;
  }

  .nuvoxel-cta-description {
    font-size: 18px;
    color: #6b7280;
    text-align: center;
    max-width: 600px;
    margin: 0 auto 32px;
    line-height: 1.6;
  }

  .nuvoxel-cta-buttons {
    display: flex;
    gap: 16px;
    justify-content: center;
    flex-wrap: wrap;
  }

  .nuvoxel-cta .nuvoxel-btn-primary {
    background: #059669;
    color: white;
  }

  .nuvoxel-cta .nuvoxel-btn-primary:hover {
    background: #047857;
  }

  .nuvoxel-cta .nuvoxel-btn-secondary {
    background: white;
    color: #059669;
    border: 2px solid #059669;
  }

  .nuvoxel-cta .nuvoxel-btn-secondary:hover {
    background: #ecfdf5;
    border-color: #047857;
    color: #047857;
  }

  .nuvoxel-collection-card:hover {
    transform: translateY(-4px);
    box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
  }

  .nuvoxel-collection-image {
    width: 100%;
    height: 200px;
    overflow: hidden;
  }

  .nuvoxel-collection-image img {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }

  .nuvoxel-collection-card .nuvoxel-collection-title {
    font-size: 18px;
    font-weight: 600;
    padding: 16px;
    padding-bottom: 8px;
  }

  .nuvoxel-collection-count {
    padding: 0 16px 16px;
    color: #6b7280;
    font-size: 14px;
  }

  /* Products Grid */
  .nuvoxel-products-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(240px, 1fr));
    gap: 24px;
    margin-bottom: 40px;
  }

  .nuvoxel-view-all {
    text-align: center;
  }

  @media (max-width: 768px) {
    .nuvoxel-hero-title {
      font-size: 32px;
    }

    .nuvoxel-hero-subtitle {
      font-size: 16px;
    }

    .nuvoxel-hero-buttons {
      flex-direction: column;
      align-items: center;
    }

    .nuvoxel-products-grid {
      grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));
      gap: 16px;
    }
  }
</style>